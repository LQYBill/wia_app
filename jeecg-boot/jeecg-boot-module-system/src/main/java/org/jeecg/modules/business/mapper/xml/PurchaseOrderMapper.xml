<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.jeecg.modules.business.mapper.PurchaseOrderMapper">
    <insert id="addPurchase">
        INSERT INTO purchase_order(id, create_by, create_time, update_by, update_time, client_id, total_amount,
                                   discount_amount, final_amount, invoice_number)
        VALUES (#{ID}, #{creator}, NOW(), #{creator}, NOW(), #{clientID}, #{totalAmount}, #{discount}, #{finalAmount},
                null);
    </insert>

    <select id="pageByClientID" resultType="org.jeecg.modules.business.entity.PurchaseOrder">
        SELECT p.*
        FROM purchase_order p
        WHERE p.client_id = #{clientID}
        LIMIT #{offset}, #{size}
    </select>

    <select id="countTotal" resultType="_long">
        SELECT COUNT(*)
        FROM purchase_order p
        WHERE p.client_id = #{clientID}
    </select>


</mapper>